{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Help Bruno Fight Cancer" %}{% endblock %}

{% block extra_fonts %}
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
{% endblock %}

{% block extra_css %}
<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #e74c3c;
    --primary-dark: #c0392b;
    --secondary-color: #3498db;
    --text-dark: #2c3e50;
    --text-light: #7f8c8d;
    --background-light: #f9f9f9;
    --white: #ffffff;
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    --shadow-hover: 0 8px 30px rgba(0, 0, 0, 0.15);
}

body {
    font-family: 'Open Sans', sans-serif;
    color: var(--text-dark);
    line-height: 1.7;
    background-color: var(--white);
}

h1, h2, h3 {
    font-family: 'Playfair Display', serif;
    font-weight: 700;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

.lang-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    display: flex;
    gap: 8px;
    background: rgba(255,255,255,0.95);
    padding: 8px 12px;
    border-radius: 30px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.15);
}

.lang-toggle button {
    background: none;
    border: 2px solid transparent;
    border-radius: 50%;
    cursor: pointer;
    padding: 2px;
    transition: all 0.2s;
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.lang-toggle button:hover {
    transform: scale(1.1);
}

.lang-toggle button.active {
    border-color: var(--primary-color);
}

.lang-toggle .flag {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    object-fit: cover;
}

.hero {
    position: relative;
    height: 80vh;
    min-height: 500px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--white);
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url('{% static "images/bruno1.jpg" %}') center/cover no-repeat;
    opacity: 0.3;
}

.hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.6) 100%);
}

.hero-content {
    position: relative;
    z-index: 1;
    padding: 20px;
}

.hero h1 {
    font-size: 3.5rem;
    margin-bottom: 20px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
}

.hero .tagline {
    font-size: 1.5rem;
    margin-bottom: 40px;
    opacity: 0.95;
}

.donate-btn {
    display: inline-block;
    padding: 18px 45px;
    font-size: 1.1rem;
    font-weight: 600;
    text-decoration: none;
    border-radius: 50px;
    transition: all 0.3s ease;
    cursor: pointer;
}

.donate-btn.primary {
    background: var(--primary-color);
    color: var(--white);
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
}

.donate-btn.primary:hover {
    background: var(--primary-dark);
    transform: translateY(-3px);
    box-shadow: 0 6px 25px rgba(231, 76, 60, 0.5);
}

.donate-btn.secondary {
    background: transparent;
    color: var(--white);
    border: 2px solid var(--white);
}

.donate-btn.secondary:hover {
    background: var(--white);
    color: var(--text-dark);
}

.donate-btn.large {
    padding: 22px 60px;
    font-size: 1.25rem;
}

.intro {
    padding: 100px 0;
    background: var(--white);
}

.intro .container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 60px;
    align-items: center;
}

.intro-image img {
    width: 100%;
    border-radius: 20px;
    box-shadow: var(--shadow);
}

.intro-text h2 {
    font-size: 2.5rem;
    margin-bottom: 20px;
    color: var(--text-dark);
}

.intro-text .highlight {
    font-size: 1.4rem;
    color: var(--primary-color);
    font-weight: 600;
    margin-bottom: 20px;
}

.intro-text p {
    margin-bottom: 15px;
    font-size: 1.1rem;
    color: var(--text-light);
}

.intro-text strong {
    color: var(--primary-color);
}

.story {
    padding: 100px 0;
    background: var(--background-light);
}

.story h2 {
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: 60px;
}

.story-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 40px;
}

.story-card {
    background: var(--white);
    border-radius: 20px;
    overflow: hidden;
    box-shadow: var(--shadow);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.story-card:hover {
    transform: translateY(-10px);
    box-shadow: var(--shadow-hover);
}

.story-card img {
    width: 100%;
    height: 300px;
    object-fit: cover;
}

.card-content {
    padding: 30px;
}

.card-content h3 {
    font-size: 1.5rem;
    margin-bottom: 15px;
    color: var(--text-dark);
}

.card-content p {
    color: var(--text-light);
    font-size: 1.05rem;
}

.urgency {
    padding: 100px 0;
    background: linear-gradient(135deg, var(--primary-color) 0%, #c0392b 100%);
    color: var(--white);
}

.urgency-content {
    max-width: 800px;
    margin: 0 auto;
    text-align: center;
}

.urgency h2 {
    font-size: 2.5rem;
    margin-bottom: 30px;
}

.urgency blockquote {
    font-size: 1.4rem;
    font-style: italic;
    padding: 30px;
    background: rgba(255,255,255,0.1);
    border-radius: 15px;
    margin-bottom: 30px;
}

.urgency p {
    font-size: 1.2rem;
    margin-bottom: 20px;
}

.needs-list {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-top: 30px;
}

.needs-list li {
    background: rgba(255,255,255,0.2);
    padding: 12px 25px;
    border-radius: 30px;
    font-size: 1rem;
}

.prognosis {
    padding: 100px 0;
    background: var(--white);
}

.prognosis h2 {
    font-size: 3.75rem;
    text-align: center;
    margin-bottom: 20px;
}

.prognosis .subtitle {
    text-align: center;
    color: var(--text-light);
    font-size: 1.1rem;
    margin-bottom: 50px;
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

.urgency-notice {
    background: linear-gradient(135deg, #fff3cd 0%, #ffeeba 100%);
    border: 2px solid #ffc107;
    border-left: 6px solid #dc3545;
    border-radius: 12px;
    padding: 20px 25px;
    margin-bottom: 40px;
    font-size: 1.1rem;
    color: #856404;
    text-align: left;
}

.urgency-notice strong {
    color: #dc3545;
}

.prognosis-card.urgent {
    animation: pulse-urgent 2s infinite;
}

@keyframes pulse-urgent {
    0%, 100% { box-shadow: 0 0 0 0 rgba(220, 53, 69, 0.4); }
    50% { box-shadow: 0 0 0 15px rgba(220, 53, 69, 0); }
}

.prognosis-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    margin-bottom: 50px;
}

.prognosis-card {
    background: var(--background-light);
    border-radius: 20px;
    padding: 40px;
    text-align: center;
}

.prognosis-card.with-treatment {
    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
    border: 3px solid #28a745;
}

.prognosis-card.without-treatment {
    background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);
    border: 3px solid #dc3545;
}

.prognosis-card h3 {
    font-size: 1.3rem;
    margin-bottom: 20px;
    color: var(--text-dark);
}

.prognosis-stat {
    font-size: 3.5rem;
    font-weight: 700;
    margin-bottom: 10px;
}

.with-treatment .prognosis-stat {
    color: #28a745;
}

.without-treatment .prognosis-stat {
    color: #dc3545;
}

.prognosis-card p {
    color: var(--text-light);
    font-size: 1rem;
}

.prognosis-charts {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 50px;
}

.chart-container {
    background: var(--white);
    border-radius: 20px;
    padding: 20px;
    box-shadow: var(--shadow);
    text-align: center;
}

.chart-container img {
    max-width: 100%;
    height: auto;
    border-radius: 10px;
}

@media (max-width: 992px) {
    .prognosis-charts {
        grid-template-columns: 1fr;
    }
}

.prognosis-facts {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 30px;
    margin-bottom: 40px;
}

.fact-box {
    text-align: center;
    padding: 30px 20px;
    background: var(--background-light);
    border-radius: 15px;
}

.fact-box .number {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--secondary-color);
    margin-bottom: 10px;
}

.fact-box p {
    color: var(--text-light);
    font-size: 0.95rem;
}

.prognosis-source {
    text-align: center;
    font-size: 0.85rem;
    color: var(--text-light);
    font-style: italic;
}

.prognosis-source a {
    color: var(--secondary-color);
}

@media (max-width: 768px) {
    .prognosis-grid {
        grid-template-columns: 1fr;
    }
    .prognosis-facts {
        grid-template-columns: 1fr;
    }
}

.gallery {
    padding: 100px 0;
    background: var(--background-light);
}

.gallery h2 {
    font-size: 2.5rem;
    text-align: center;
    margin-bottom: 50px;
}

.gallery-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 20px;
}

.gallery-grid img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    border-radius: 15px;
    transition: transform 0.3s ease;
    cursor: pointer;
}

.gallery-grid img:hover {
    transform: scale(1.05);
}

.cta {
    padding: 100px 0;
    background: var(--background-light);
}

.cta-content {
    display: grid;
    grid-template-columns: 1fr 1.5fr;
    gap: 60px;
    align-items: center;
}

.cta-image {
    width: 100%;
    border-radius: 20px;
    box-shadow: var(--shadow);
}

.cta-text h2 {
    font-size: 2.5rem;
    margin-bottom: 25px;
}

.cta-text p {
    font-size: 1.15rem;
    color: var(--text-light);
    margin-bottom: 20px;
}

.cta-text .donate-btn {
    margin-bottom: 30px;
}

.share-text {
    font-size: 1rem;
    color: var(--text-light);
    margin-bottom: 15px;
}

.share-buttons {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
}

.share-btn {
    padding: 12px 25px;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.95rem;
    transition: all 0.3s ease;
}

.share-btn.facebook {
    background: #3b5998;
    color: var(--white);
}

.share-btn.facebook:hover {
    background: #2d4373;
}

.share-btn.twitter {
    background: #000000;
    color: var(--white);
}

.share-btn.twitter:hover {
    background: #333333;
}

footer {
    padding: 60px 0;
    background: var(--text-dark);
    color: var(--white);
    text-align: center;
}

footer p {
    margin-bottom: 10px;
    opacity: 0.9;
}

footer .location {
    opacity: 0.7;
    margin-bottom: 25px;
}

@media (max-width: 992px) {
    .hero h1 {
        font-size: 2.8rem;
    }

    .intro .container,
    .cta-content {
        grid-template-columns: 1fr;
        gap: 40px;
    }

    .intro-image {
        order: -1;
    }

    .story-grid {
        grid-template-columns: 1fr;
    }

    .gallery-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (max-width: 768px) {
    .hero {
        height: 70vh;
        min-height: 450px;
    }

    .hero h1 {
        font-size: 2.2rem;
    }

    .hero .tagline {
        font-size: 1.2rem;
    }

    section {
        padding: 60px 0;
    }

    h2 {
        font-size: 2rem !important;
    }

    .donate-btn {
        padding: 15px 35px;
    }

    .donate-btn.large {
        padding: 18px 45px;
        font-size: 1.1rem;
    }

    .needs-list {
        flex-direction: column;
        align-items: center;
    }

    .share-buttons {
        justify-content: center;
    }
}

@media (max-width: 480px) {
    .hero h1 {
        font-size: 1.8rem;
    }

    .gallery-grid {
        grid-template-columns: 1fr;
    }

    .cta-text {
        text-align: center;
    }

    .share-buttons {
        flex-direction: column;
        align-items: center;
    }

    .share-btn {
        width: 100%;
        text-align: center;
    }
}
</style>
{% endblock %}

{% block content %}
<!-- Language Toggle -->
<div class="lang-toggle">
    <form action="{% url 'set_language' %}" method="post" id="lang-form-en">
        {% csrf_token %}
        <input type="hidden" name="language" value="en">
        <input type="hidden" name="next" value="{{ request.path }}">
        <button type="submit" class="{% if LANGUAGE_CODE == 'en' %}active{% endif %}" title="English">
            <img src="https://flagcdn.com/w40/us.png" alt="English" class="flag">
        </button>
    </form>
    <form action="{% url 'set_language' %}" method="post" id="lang-form-es">
        {% csrf_token %}
        <input type="hidden" name="language" value="es">
        <input type="hidden" name="next" value="{{ request.path }}">
        <button type="submit" class="{% if LANGUAGE_CODE == 'es' %}active{% endif %}" title="Español">
            <img src="https://flagcdn.com/w40/mx.png" alt="Español" class="flag">
        </button>
    </form>
</div>

<header class="hero">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <h1>{% trans "Help Bruno Fight Cancer" %}</h1>
        <p class="tagline">{% trans "He doesn't know he's sick. He just knows he loves us." %}</p>
        <a href="https://www.gofundme.com/f/help-bruno-fight-cancer-hkj8a/donate" class="donate-btn primary" target="_blank" rel="noopener">
            {% trans "Donate Now" %}
        </a>
    </div>
</header>

<main>
    <section class="intro">
        <div class="container">
            <div class="intro-image">
                <img src="{% static 'images/bruno1.jpg' %}" alt="Bruno, a loving 6-year-old dog">
            </div>
            <div class="intro-text">
                <h2>Meet Bruno</h2>
                <p class="highlight">Six years of unconditional love.</p>
                <p>Bruno and Tatum are inseparable. Where one goes, the other follows. He's not just a dog—he's a best friend, a protector, a constant source of comfort through every hard day and quiet night.</p>
                <p>Now Bruno has been diagnosed with <strong>lymphoma</strong>. He's still happy, still wagging his tail, still looking at us like nothing is wrong. That's what makes this so hard.</p>
            </div>
        </div>
    </section>

    <section class="story">
        <div class="container">
            <h2>Bruno's Story</h2>
            <div class="story-grid">
                <div class="story-card">
                    <img src="{% static 'images/bruno2.jpg' %}" alt="Bruno with his family">
                    <div class="card-content">
                        <h3>He Still Greets Each Day with Joy</h3>
                        <p>Bruno doesn't know what lymphoma means. He just knows he wants to be close to us, to play, to rest his head in our laps. His spirit hasn't changed—and we're fighting to keep it that way for as long as we can.</p>
                    </div>
                </div>
                <div class="story-card">
                    <img src="{% static 'images/bruno3.jpg' %}" alt="Bruno being playful">
                    <div class="card-content">
                        <h3>We Can't Do This Alone</h3>
                        <p>With only one income and no savings to fall back on, the cost of treatment feels impossible. We cancelled Christmas travel to stay by his side. We'd give anything for more time with him—but we need help to make it happen.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="urgency">
        <div class="container">
            <div class="urgency-content">
                <h2>Every Day Counts</h2>
                <blockquote>
                    "The sooner we start, the more good days we get to keep."
                </blockquote>
                <p>Lymphoma moves fast. Early treatment can slow the disease and give Bruno more time—more walks, more naps in the sun, more moments together. Your donation goes directly toward:</p>
                <ul class="needs-list">
                    <li>Veterinary oncology visits</li>
                    <li>Chemotherapy treatments</li>
                    <li>Medications</li>
                    <li>Ongoing monitoring</li>
                    <li>Transportation to frequent appointments</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="prognosis">
        <div class="container">
            <h2>Why We Need to Act Now</h2>
            <p class="subtitle">Canine lymphoma is treatable, but time is critical. With chemotherapy, dogs can live significantly longer with a good quality of life.</p>

            <div class="urgency-notice">
                <strong>We've already lost precious time.</strong> It's been two weeks since we discovered Bruno's swollen lymph nodes—and they've tripled in size since then. The diagnostic testing had to be sent to Mexico City, which delayed the diagnosis. Every day without treatment, the cancer spreads.
            </div>

            <div class="prognosis-grid">
                <div class="prognosis-card without-treatment urgent">
                    <h3>Without Treatment</h3>
                    <div class="prognosis-stat">2-4 weeks</div>
                    <p>Bruno could have as little as 2 weeks left without treatment</p>
                </div>
                <div class="prognosis-card with-treatment">
                    <h3>With CHOP Chemotherapy</h3>
                    <div class="prognosis-stat">12-18 months</div>
                    <p>Expected survival for B-cell Stage IIIa lymphoma</p>
                </div>
            </div>

            <div class="prognosis-charts">
                <div class="chart-container">
                    <img src="{% static 'images/without-chop.png' %}" alt="Canine Lymphoma Prognosis by Treatment - comparing survival weeks for Prednisone alone, Laverdia-CA1, and CHOP chemotherapy">
                </div>
                <div class="chart-container">
                    <img src="{% static 'images/chop-stages.png' %}" alt="CHOP Chemotherapy Prognosis by cell type and stage - showing probability bands for B-cell and T-cell lymphoma">
                </div>
            </div>

            <div class="prognosis-facts">
                <div class="fact-box">
                    <div class="number">80-90%</div>
                    <p>of dogs respond positively to chemotherapy</p>
                </div>
                <div class="fact-box">
                    <div class="number">60-80%</div>
                    <p>achieve complete remission</p>
                </div>
                <div class="fact-box">
                    <div class="number">25%</div>
                    <p>survive 2 years or longer</p>
                </div>
            </div>

            <p class="prognosis-source">
                Statistics from veterinary oncology research. Individual outcomes vary based on lymphoma type, stage, and timing of treatment.
                <br>
                <a href="https://pubmed.ncbi.nlm.nih.gov/15566067/" target="_blank">Garrett et al., Vet Comp Oncol. 2002</a> |
                <a href="https://pubmed.ncbi.nlm.nih.gov/17542696/" target="_blank">Vail DM, Vet Clin North Am. 2007</a>
            </p>
        </div>
    </section>

    <section class="gallery">
        <div class="container">
            <h2>This Is Who We're Fighting For</h2>
            <div class="gallery-grid">
                <img src="{% static 'images/bruno1.jpg' %}" alt="Bruno portrait">
                <img src="{% static 'images/bruno2.jpg' %}" alt="Bruno relaxing">
                <img src="{% static 'images/bruno3.jpg' %}" alt="Bruno happy">
                <img src="{% static 'images/bruno4.jpg' %}" alt="Bruno with family">
            </div>
        </div>
    </section>

    <section class="cta">
        <div class="container">
            <div class="cta-content">
                <img src="{% static 'images/bruno4.jpg' %}" alt="Bruno looking hopeful" class="cta-image">
                <div class="cta-text">
                    <h2>Help Us Keep Him a Little Longer</h2>
                    <p>We're not ready to say goodbye. Bruno still has so much love to give, and we want to give him every chance to keep giving it.</p>
                    <p>Any amount helps. If you can't donate, sharing his story means the world to us.</p>
                    <a href="https://www.gofundme.com/f/help-bruno-fight-cancer-hkj8a/donate" class="donate-btn primary large" target="_blank" rel="noopener">
                        Donate to Bruno's Treatment
                    </a>
                    <p class="share-text">Can't donate? Please share Bruno's story!</p>
                    <div class="share-buttons">
                        <a href="https://www.facebook.com/sharer/sharer.php?u=https://helpbruno.com" target="_blank" rel="noopener" class="share-btn facebook">Share on Facebook</a>
                        <a href="https://twitter.com/intent/tweet?text=Help%20Bruno%20fight%20cancer!%20Every%20donation%20counts.&url=https://helpbruno.com" target="_blank" rel="noopener" class="share-btn twitter">Share on X</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<footer>
    <div class="container">
        <p>Thank you for caring about Bruno. Every donation and share brings us closer to giving him more good days.</p>
        <p class="location">Puerto Morelos, Mexico</p>
        <a href="https://www.gofundme.com/f/help-bruno-fight-cancer-hkj8a/donate" class="donate-btn secondary" target="_blank" rel="noopener">
            Donate on GoFundMe
        </a>
    </div>
</footer>
{% endblock %}
